<div class="quote-item-card bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4" data-quote-form-target="itemCard">
  <div class="grid grid-cols-1 md:grid-cols-12 gap-4">
    <div class="md:col-span-5">
      <%= form.label :product_id, "Product", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.collection_select :product_id,
          Product.order(:name),
          :id,
          :name,
          { prompt: "Select a product" },
          {
            class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 px-4 text-base",
            data: {
              action: "change->quote-form#fetchPrice",
              quote_form_target: "productSelect"
            }
          } %>
      <%= form.hidden_field :_destroy, value: 0, data: { quote_form_target: "destroyField" } %>
    </div>

    <div class="md:col-span-2">
      <%= form.label :quantity, "Quantity", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.number_field :quantity,
          step: 1,
          min: 1,
          class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 px-4 text-base",
          data: {
            action: "input->quote-form#calculateItemTotal",
            quote_form_target: "quantityInput"
          } %>
    </div>

    <div class="md:col-span-2">
      <%= form.label :unit_price, "Unit Price", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.number_field :unit_price,
          step: 0.01,
          min: 0,
          class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 px-4 text-base",
          data: {
            action: "input->quote-form#calculateItemTotal",
            quote_form_target: "unitPriceInput"
          } %>
    </div>

    <div class="md:col-span-2">
      <label class="block text-sm font-medium text-gray-700 mb-1">Item Total</label>
      <div class="mt-1 block w-full rounded-md border-gray-300 bg-gray-100 py-3 px-4 text-base font-semibold text-gray-900" data-quote-form-target="itemTotal">
        $0.00
      </div>
    </div>

    <div class="md:col-span-1 flex items-end">
      <button type="button" 
              class="w-full bg-red-600 text-white py-3 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
              data-action="click->quote-form#removeItem">
        Remove
      </button>
    </div>
  </div>
</div>

