<div class="quote-item-card bg-gray-50 border border-gray-200 rounded-lg p-5 mb-4" data-quote-form-target="itemCard">
  <div class="grid grid-cols-1 md:grid-cols-12 gap-4">
    <div class="md:col-span-5">
      <%= form.label :product_id, t('quotes.form.product'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.collection_select :product_id,
          Product.order(:name),
          :id,
          :name,
          { prompt: t('quotes.form.select_product') },
          {
            class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 px-4 text-base",
            data: {
              action: "change->quote-form#updatePrice",
              quote_form_target: "productSelect"
            }
          } %>
      <%= form.hidden_field :_destroy, value: 0, data: { quote_form_target: "destroyField" } %>
    </div>

    <div class="md:col-span-2">
      <%= form.label :quantity, t('quotes.form.quantity'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.number_field :quantity,
          step: 1,
          min: 1,
          value: form.object.quantity&.to_i,
          class: "no-spinner mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 px-4 text-base",
          data: {
            action: "input->quote-form#calculateItemTotal",
            quote_form_target: "quantityInput"
          } %>
    </div>

    <div class="md:col-span-2">
      <%= form.label :unit_price, t('quotes.form.unit_price'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.number_field :unit_price,
          step: 1,
          min: 0,
          value: form.object.unit_price&.to_i,
          class: "no-spinner mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 px-4 text-base",
          data: {
            action: "input->quote-form#calculateItemTotal",
            quote_form_target: "unitPriceInput"
          } %>
    </div>

    <div class="md:col-span-2">
      <label class="block text-sm font-medium text-gray-700 mb-1"><%= t('quotes.form.item_total') %></label>
      <div class="mt-1 block w-full rounded-md border-gray-300 bg-gray-100 py-3 px-4 text-base font-semibold text-gray-900" data-quote-form-target="itemTotal">
        $0.00
      </div>
    </div>

    <div class="md:col-span-1 flex items-end">
      <button type="button" 
              class="w-full text-red-600 hover:text-red-700 hover:bg-red-50 py-3 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex items-center justify-center gap-2 transition-colors"
              data-action="click->quote-form#removeItem">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
        </svg>
        <span class="hidden sm:inline"><%= t('quotes.form.remove_item') %></span>
      </button>
    </div>
  </div>
</div>

